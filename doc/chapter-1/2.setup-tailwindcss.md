# Setup TailwindCSS

We'll use [TailwindCSS](https://tailwindcss.com/docs/installation) as a utility-first CSS framework.

## Install Dependencies

```bash
# install dependencies
> yarn add -D tailwindcss@npm:@tailwindcss/postcss7-compat @tailwindcss/postcss7-compat postcss@^7 autoprefixer@^9
added 68 packages, and audited 138 packages in 5s

12 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

# install CLI dependencies for development
> yarn add -D chokidar-cli npm-run-all

# init configuration
> npx tailwindcss init
tailwindcss 2.0.3

   ‚úÖ Created Tailwind config file: tailwind.config.js
```

## Install Craco

```bash
# install craco dependency
> yarn add @craco/craco
```

Update `package.json`:

```diff
{
    // ...
    "scripts": {
-     "start": "react-scripts start",
-     "build": "react-scripts build",
-     "test": "react-scripts test",
+     "start": "craco start",
+     "build": "craco build",
+     "test": "craco test",
      "eject": "react-scripts eject"
    },
  }
```

Create `craco.config.js`:

```js
// craco.config.js

module.exports = {
  style: {
    postcss: {
      plugins: [
        require('tailwindcss'),
        require('autoprefixer'),
      ],
    },
  },
}
```

## Include Tailwind in your CSS

Create `src/tailwind.css` :

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

We'll be using `src/tailwind.css` as our input and `src/index.css` as our autogenerated css.

## Prepare production build

Update `src/tailwind.config.js` and add the following purge configuration to strip unused CSS on production builds:

```diff
module.exports = {
- purge: []
+ purge: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  darkMode: false, // or 'media' or 'class'
  theme: {
    extend: {},
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
```

## Watch Tailwind for changes

Add the following scripts on `package.json`:

```diff
"scripts": {
+    "build:tailwind": "tailwind build src/tailwind.css -o src/index.css",
+    "watch:tailwind": "chokidar 'tailwind.config.js' 'src/tailwind.css' --ignore src/index.css -c 'npm run build:tailwind'",
+    "start": "npm-run-all build:tailwind --parallel watch:tailwind dev",
+    "dev": "craco start",
-    "start": "craco start",
		...
}
```

Start development server with watcher of CSS so that is updated on the fly using `yarn start`:

```json
‚ùØ yarn start
yarn run v1.22.10
$ npm-run-all build:tailwind --parallel watch:tailwind dev
$ tailwind build src/tailwind.css -o src/index.css

@tailwindcss/postcss7-compat 2.0.3

   üöÄ Building: src/tailwind.css

   ‚úÖ Finished in 4.52 s
   üì¶ Size: 3.75MB
   üíæ Saved to src/index.css

$ craco start
$ chokidar 'src/tailwind.css' --ignore src/index.css -c 'npm run build:tailwind'
Watching "src/tailwind.css" ..

Compiled successfully!

You can now view my-app in the browser.

  Local:            http://localhost:3000
  On Your Network:  http://192.168.1.44:3000

Note that the development build is not optimized.
To create a production build, use yarn build.
```

And include on `.gitignore` the autogenerated `src/index.css` since we don't need it in version control:

```diff
node_modules
.DS_Store
dist
dist-ssr
*.local
+ src/index.css
```

Let's test it by adding a styled paragraph on `src/App.tsx`:

```diff
Learn React
+ <p className="bg-blue-900 rounded-lg m-10 p-10 text-green-400">Hello TailwindCSS Styles</p>
```

![TailwindCSS](imgs/tailwindcss.png)

**Next**: [Add Page Navigation](3.add-page-navigation.md)
